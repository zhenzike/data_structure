<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
    <script>
    class map{//  队列结构的封装
            constructor(){
                this.items=[];
        
        }
        enqueue(item){//入队操作，往队尾添加元素
           this.items.push(item);
        }
     
        dequeue(){//出队操作，从队首取出元素，并返回取出的那个元素
           return this.items.shift();
        }
             
        front(){//查看队首元素
            return this.items[0];
        }

        isEmpty(){//判断队列是否为空
            return this.items.length===0;
        }
        
        size(){//获取队列中元素个数
            return this.items.length;
        }

        toString(){//返回以字符串形式的队列元素数据
            for(let i=0;i<this.items.length;i++){
             return " "+this.items[i]+" ";
            }
        }
        }
        
        //击鼓传花 规则获得一组数组 里面存是几名玩家的名字 以及 一个数字 每次数到这个数就淘汰这个人 并获得这个人的名字和原本的位置
       function passgame(nameList,num){
           var queue=new map();
          
           for(let i=0;i<nameList.length;i++){//人名依次进入队列
                queue.enqueue(nameList[i])
           }
           
           while(queue.size()>1){//直到最后一个人时退出循环
             for(let j=0;j<num-1;j++){
                 queue.enqueue(queue.dequeue());//循环 num 次 将前几次的人名重新放入队列尾部
             }
             queue.dequeue();//将队首元素删除，变相做到删除对应num人名
           }

           let endName=queue.front();//获得最后一个人的名字
           return  nameList.indexOf(endName);//获得最后一个人的名字索引

        }
        let nameList=["guo","chen","xie","zhang","ma","liu"];
        let a= passgame(nameList,2);
        alert(a+nameList[a]);

    </script>
</body>
</html>